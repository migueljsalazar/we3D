<div class="wrapper-inside">
<%= form_for @order, html: { class: "basic-grey" } do |f| %>
  <% if @order.errors.any? %>
    <div id="error_explanation">
      <h2>
        <%= pluralize(@order.errors.count, "error") %>
        prohibited this order from being saved:
      </h2>
      <ul>
        <% @order.errors.full_messages.each do |message| %>
          <li>
            <%= message %>
          </li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="field">
    <%= f.hidden_field :campaign_id, value: @campaign.id %>
  </div>
  <div class="field">
    <%= f.hidden_field :order_id, value: @order.id %>
  </div>
  <div class="field">
    <%= f.label :full_name %>
    <%= f.text_field :full_name %>
  </div>
  <div class="field">
    <%= f.label :address %>
    <%= f.text_field :address %>
  </div>
  <div class="field">
    <%= f.label :city %>
    <%= f.text_field :city %>
  </div>
  <div class="field">
    <%= f.label :zip_code %>
    <%= f.text_field :zip_code %>
  </div>
  <div class="field">
    <%= f.label :qty %>
    <%= f.number_field :zip_code %>
  </div>
  <%= javascript_include_tag "https://js.stripe.com/v2/" %>
  <script>
        Stripe.setPublishableKey('#{Rails.application.secrets.stripe_publishable_key}');
  </script>
  <%= label_tag "Card Number", nil, required: true %>
  <div class="control-group">
    <div class="controls">
      <%= text_field_tag :card_number, nil, class: "input-block-level", "data-stripe" => "number" %>
    </div>
  </div>
  <%= label_tag "Card Verification", nil, required: true %>
  <div class="control-group">
    <div class="controls">
      <%= text_field_tag :card_verification, nil, class: "input-block-level", "data-stripe" => "cvv" %>
    </div>
  </div>
  <%= label_tag "Card Expires", nil, required: true %>
  <%= select_tag :exp_month, options_for_select(Date::MONTHNAMES.compact.each_with_index.map { |name,i| ["#{i+1} - #{name}", i+1] }), include_blank: false, "data-stripe" => "exp-month", class: "span2" %>
  <%= select_tag :exp_year, options_for_select((Date.today.year..(Date.today.year+10)).to_a), include_blank: false, "data-stripe" => "exp-year", class: "span1" %>
  <div class="actions">
  <%= f.submit "Order Payment", class: "btn", style: "color: white;background: rgb(242, 118, 73);" %>
  </div>
<% end %>
</div>

